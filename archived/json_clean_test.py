import json
import re
from jsonapi_orm import response_to_obj
import pickle
import ast

# x = """[{"file_type": "ASCII text, with very long lines, with no line terminators", "data_type": None, "data_size": "246", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "00NMqvnbSpPkcaVtunV4KHgPyo0vsyHPEUmhuwEGseU", "Content-Type": "application/x.arweave-manifest+json"}, {"file_type": "HTML document, UTF-8 Unicode text, with very long lines, with no line terminators", "data_type": None, "data_size": "3007", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "00vTOi4kBW_nwR4cRaZsflVIUJKpiKmXcuP8tBw7VuI", "Application": "TwittAR", "Tweet-ID": "1508475671986995203", "Author-ID": "862757368353796096", "Author-Name": "Thevox_81", "Author-Handle": "@win_jeffy", "Content-Type": "application/json", "Key-Word-List": "ukraine3", "In-Response-To-ID": "1508475050735042562"}, {"file_type": "ASCII text, with very long lines, with no line terminators", "data_type": None, "data_size": "247", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "00vu5crtrkwviT72lcryV7Cus-AjhMaLTNAfYQw2aTU", "Content-Type": "application/x.arweave-manifest+json"}, {"file_type": "ASCII text, with very long lines, with no line terminators", "data_type": None, "data_size": "247", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "00wiozIHxvOm07hZ90WU0iUJ-Pg21xe7Ru1e1APMd4c", "Content-Type": "application/x.arweave-manifest+json"}, {"file_type": "HTML document, UTF-8 Unicode text, with very long lines, with no line terminators", "data_type": None, "data_size": "7130", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "01FvpAmYB4v-ng_unWNt218T3ZRtK8w2d3ovkVR7dPM", "Application": "TwittAR", "Tweet-ID": "1508475957581025280", "Author-ID": "1301249461008478208", "Author-Name": "সত্যান্বেষী", "Author-Handle": "@Lilabaliii", "Content-Type": "application/json", "Key-Word-List": "ukraine3", "In-Response-To-ID": "1508414607874039817"}, {"file_type": "HTML document, UTF-8 Unicode text, with very long lines, with no line terminators", "data_type": None, "data_size": "3073", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "04_0wNV6sKkAoI5euAXV0pJmnlfZrS7qATZ66_Tpxk0", "Application": "TwittAR", "Tweet-ID": "1508475247955226636", "Author-ID": "124478434", "Author-Name": "Leticia Vicario", "Author-Handle": "@LeticiaVicario", "Content-Type": "application/json", "Key-Word-List": "ukraine3"}, {"file_type": "HTML document, UTF-8 Unicode text, with very long lines, with no line terminators", "data_type": None, "data_size": "2168", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "04bt58fnwUMy9v6DH9Q5_b8Q6kfMqjKBXTFmNzquwC8", "Application": "TwittAR", "Tweet-ID": "1508476255380946947", "Author-ID": "219917092", "Author-Name": "Baris Şiret", "Author-Handle": "@barissiret", "Content-Type": "application/json", "Key-Word-List": "ukraine3", "In-Response-To-ID": "1508468627804196865"}, {"file_type": "HTML document, UTF-8 Unicode text, with very long lines, with no line terminators", "data_type": None, "data_size": "2773", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "05neDXbgJH6FACn6ryeAi1v_dW-lNZDJ6m28XrxRa6c", "Application": "TwittAR", "Tweet-ID": "1508475376091209732", "Author-ID": "3559182981", "Author-Name": "Lalit", "Author-Handle": "@lalitlana", "Content-Type": "application/json", "Key-Word-List": "ukraine3"}, {"file_type": "ASCII text, with very long lines, with no line terminators", "data_type": None, "data_size": "247", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "05qPreqRdmahAQmv8GWcV_TqKMDp5L5KXJiq-Ghlpf0", "Content-Type": "application/x.arweave-manifest+json"}, {"file_type": "HTML document, UTF-8 Unicode text, with very long lines, with no line terminators", "data_type": None, "data_size": "5399", "block_height": 901822, "timestamp": "2022-03-28 12:12:47", "tx_id": "06dR7p-58tReDOGa4gNd6PeCDwaWk-NsDsPAHav8hDs", "Application": "TwittAR", "Tweet-ID": "1508475386123980806", "Author-ID": "214043335", "Author-Name": "Tiffany Oshinsky", "Author-Handle": "@TMOluvsSports", "Content-Type": "application/json", "Key-Word-List": "ukraine3"}]"""
# # print(x)
# print(
#   # re.sub(r"[\"][A-z0-9_-]+[\"]:\s(?P<unquoted>[^\"]\w+)\,", "\""+r'\g<unquoted>' + "\"",  x)
#   re.sub(r"(?<=:\s)([^\"]\w+)(?=\,)", '"' + r'\1' + '"',  x)
#     )

# my_dict = {"test1": "abc", "test2":None, "test3": 93939}
# print("my_dict:  \t\t" + str(my_dict))

# my_json_dumps = json.dumps(my_dict)
# print("my_json_dumps:\t" + my_json_dumps)

# my_repr_dict = repr(my_dict)
# print("my_repr_dict:\t" + my_repr_dict)

# my_ast_liteval = ast.literal_eval(str(my_dict))
# print("my_ast_liteval:\t" + str(my_ast_liteval))

# print(type(ast.literal_eval(str(my_dict))))


# x = [["a", "abc"], ["b", "ababb"], ["b", "aaaa"]]

# d = dict.fromkeys([i[0] for i in x], [i[1] for i in x])
# print(d
#   )

# x = """{'named_entities': {'WORK_OF_ART': ['content":{"body'], 'MONEY': ['## 1、注册\\n\\n[https://unstoppabledomains.com/?ref=62c7e1df1a1e44e](https://unstoppabledomains.com/?ref=62c7e1df1a1e44e)\\n\\n可以使用谷歌或其他邮箱注册\\n\\n##'], 'ORG': ['Cart）,进入购物车购买\\n\\n![支付1](https://images.mirror-media.xyz'], 'GPE': ['y8DvGgyweddL94fQ0'], 'PERSON': ['using:\\n{\\"crv\\":\\"P-256\\",\\"ext\\":true,\\"key_ops\\":[\\"verify\\"],\\"kty\\":\\"EC\\",\\"x\\":\\"0Y4gcgKa0h1ePOoailQp3v2QurNcCDXx19SqlKjL1JI\\",\\']}, 'source_language': 'zh-CN', 'source_text': '{"content":{"body":"## 1、注册\\n\\n[https://unstoppabledomains.com/?ref=62c7e1df1a1e44e](https://unstoppabledomains.com/?ref=62c7e1df1a1e44e)\\n\\n可以使用谷歌或其他邮箱注册\\n\\n## 2、查找可用域名和选择后缀\\n\\n![后缀选择](https://images.mirror-media.xyz/publication-images/n45hQ9zUpUMMTl77C6teD.png?height=902&width=1920)\\n\\n选你喜欢的后缀加入购物车（add to Cart）,进入购物车购买\\n\\n![支付1](https://images.mirror-media.xyz/publication-images/y8DvGgyweddL94fQ0-gdJ.png?height=592&width=1428)\\n\\n不选择美国，再点击checkout\\n\\n![支付2](https://images.mirror-media.xyz/publication-images/MQIIo8hccXR87znivyYYY.png?height=880&width=1614)\\n\\n选择支付方式，我选择eth进行支付（必须再以太链上）\\n\\n## 3、Mint域名\\n\\n首页依次点击【域名】——【我的域名】——【Free\xa0Mint】\\n\\n之后绑定地址即可","timestamp":1648667770,"title":"Unstoppable域名系统"},"digest":"U1bRXSxYbtg3BlKeDq5rjif3U6RGBJ62fn-NMWqItsY","authorship":{"contributor":"0xf7eFB561c774b516BC4A232307ABFB347F8A98c9","signingKey":"{\\"crv\\":\\"P-256\\",\\"ext\\":true,\\"key_ops\\":[\\"verify\\"],\\"kty\\":\\"EC\\",\\"x\\":\\"0Y4gcgKa0h1ePOoailQp3v2QurNcCDXx19SqlKjL1JI\\",\\"y\\":\\"JQn1GfWZ7n_BKNcd9bFEnhLlP5bA3JhuhKNHABGv8Lo\\"}","signature":"fkz16L8DqHqwi5Q-nWSmQVLSv1uDTtWPfk84qzP1T01MLhihiSd1NNQr4VZg7eqzM7Hzg6qYhwaGCOb-PsgQyA","signingKeySignature":"0xdefcbef969e4e5da574cd3b84fd91c417f3d9244fbe1c131ec37a97f370e93d05555003735b78d64d95cbc6bada91266c7b51d5db1152985563d5f14cd8db7501c","signingKeyMessage":"I authorize publishing on mirror.xyz from this device using:\\n{\\"crv\\":\\"P-256\\",\\"ext\\":true,\\"key_ops\\":[\\"verify\\"],\\"kty\\":\\"EC\\",\\"x\\":\\"0Y4gcgKa0h1ePOoailQp3v2QurNcCDXx19SqlKjL1JI\\",\\"y\\":\\"JQn1GfWZ7n_BKNcd9bFEnhLlP5bA3JhuhKNHABGv8Lo\\"}","algorithm":{"name":"ECDSA","hash":"SHA-256"}},"nft":{},"version":"12-21-2020","originalDigest":"U1bRXSxYbtg3BlKeDq5rjif3U6RGBJ62fn-NMWqItsY"}', 'english_text': '{"content":{"body":"## 1. Registration\\n\\n[https://unstoppabledomains.com/?ref=62c7e1df1a1e44e](https://unstoppabledomains.com/?ref=62c7e1df1a1e44e)\\n \\nYou can register with Google or other email addresses\\n\\n## 2. Find available domain names and select suffix\\n\\n![Suffix selection](https://images.mirror-media.xyz/publication-images/n45hQ9zUpUMMTl77C6teD .png?height=902&width=1920)\\n\\nSelect the suffix you like and add to the shopping cart (add to Cart), enter the shopping cart to buy\\n\\n![Payment 1](https://images.mirror-media .xyz/publication-images/y8DvGgyweddL94fQ0-gdJ.png?height=592&width=1428)\\n\\nDon\'t select US, then click checkout\\n\\n![Payment 2](https://images.mirror-media. xyz/publication-images/MQIIo8hccXR87znivyYYY.png?height=880&width=1614)\\n\\nSelect the payment method, I choose eth for payment (must be on the ether chain)\\n\\n## 3. Mint domain name\\n\\n On the home page, click [Domain Name] - [My Domain Name] - [Free Mint]\\n\\nAfter that, you can bind the address","timestamp":1648667770,"title":"Unstoppable Domain Name System"},"digest ":"U1bRXSxYbtg3BlKeDq5rjif3U6RGBJ62fn-NMWqItsY","authorship":{"contributor":"0xf7eFB561c774b516BC4A232307ABFB347F8A98c9","signingKey":"{\\"crv\\":\\"P-256\\",\\"ext\\":true "key_ops\\":[\\"verify\\"],\\"kty\\":\\"EC\\",\\"x\\":\\"0Y4gcgKa0h1ePOoailQp3v2QurNcCDXx19SqlKjL1JI\\",\\"y\\":\\"JQn1GfWZ7n_BKNcd9 bFEnhLlP5bA3JhuhKNHABGv8Lo \\ "}", "signature": "fkz16L8DqHqwi5Q-nWSmQVLSv1uDTtWPfk84qzP1T01MLhihiSd1NNQr4VZg7eqzM7Hzg6qYhwaGCOb-PsgQyA", "signingKeySignature": "0xdefcbef969e4e5da574cd3b84fd91c417f3d9244fbe1c131ec37a97f370e93d05555003735b78d64d95cbc6bada91266c7b51d5db1152985563d5f14cd8db7501c", "signingKeyMessage": "I authorize publishing on mirror.xyz from this device using: \\ n {\\" crv \\ ":\\"P-256\\",\\"ext\\":true,\\"key_ops\\":[\\"verify\\"],\\"kty\\":\\"EC\\",\\"x\\": \\"0Y4gcgKa0h1ePOoailQp3v2QurNcCDXx19SqlKjL1JI\\",\\"y\\":\\"JQn1GfWZ7n_BKNcd9bFEnhLlP5bA3JhuhKNHABGv8Lo\\"}","algorithm":{"name":"ECDSA","hash":"SHA-256"}{},"nft" },"version":"12-21-2020","originalDigest":"U1bRXSxYbtg3BlKeDq5rjif3U6RGBJ62fn-NMWqItsY"}'}
# """
# x = """{'test':"yes", 'new': \"'test'}"""
# # y = x[0:100]
# y = x.replace("'", "").replace("\n", "").replace("\"","")
# print(str(y))

x=r"""{"content":{"body":"## 1、注册\n\n[https://unstoppabledomains.com/?ref=62c7e1df1a1e44e](https://unstoppabledomains.com/?ref=62c7e1df1a1e44e)\n\n可以使用谷歌或其他邮箱注册\n\n## 2、查找可用域名和选择后缀\n\n![后缀选择](https://images.mirror-media.xyz/publication-images/n45hQ9zUpUMMTl77C6teD.png?height=902&width=1920)\n\n选你喜欢的后缀加入购物车（add to Cart）,进入购物车购买\n\n![支付1](https://images.mirror-media.xyz/publication-images/y8DvGgyweddL94fQ0-gdJ.png?height=592&width=1428)\n\n不选择美国，再点击checkout\n\n![支付2](https://images.mirror-media.xyz/publication-images/MQIIo8hccXR87znivyYYY.png?height=880&width=1614)\n\n选择支付方式，我选择eth进行支付（必须再以太链上）\n\n## 3、Mint域名\n\n首页依次点击【域名】——【我的域名】——【Free Mint】\n\n之后绑定地址即可","timestamp":1648667770,"title":"Unstoppable域名系统"},"digest":"U1bRXSxYbtg3BlKeDq5rjif3U6RGBJ62fn-NMWqItsY","authorship":{"contributor":"0xf7eFB561c774b516BC4A232307ABFB347F8A98c9","signingKey":"{\"crv\":\"P-256\",\"ext\":true,\"key_ops\":[\"verify\"],\"kty\":\"EC\",\"x\":\"0Y4gcgKa0h1ePOoailQp3v2QurNcCDXx19SqlKjL1JI\",\"y\":\"JQn1GfWZ7n_BKNcd9bFEnhLlP5bA3JhuhKNHABGv8Lo\"}","signature":"fkz16L8DqHqwi5Q-nWSmQVLSv1uDTtWPfk84qzP1T01MLhihiSd1NNQr4VZg7eqzM7Hzg6qYhwaGCOb-PsgQyA","signingKeySignature":"0xdefcbef969e4e5da574cd3b84fd91c417f3d9244fbe1c131ec37a97f370e93d05555003735b78d64d95cbc6bada91266c7b51d5db1152985563d5f14cd8db7501c","signingKeyMessage":"I authorize publishing on mirror.xyz from this device using:\n{\"crv\":\"P-256\",\"ext\":true,\"key_ops\":[\"verify\"],\"kty\":\"EC\",\"x\":\"0Y4gcgKa0h1ePOoailQp3v2QurNcCDXx19SqlKjL1JI\",\"y\":\"JQn1GfWZ7n_BKNcd9bFEnhLlP5bA3JhuhKNHABGv8Lo\"}","algorithm":{"name":"ECDSA","hash":"SHA-256"}},"nft":{},"version":"12-21-2020","originalDigest":"U1bRXSxYbtg3BlKeDq5rjif3U6RGBJ62fn-NMWqItsY"}"""# x = re.sub(r"[\#|\n]+", "", x)
# x = x.replace(",\"", ",\n\"")
# print((x))
# print(json.loads(x))
# x = re.sub(r"\[.+(?# \]|\(.+\)|\n|\t|\#", "", x)
# print(x))
x = re.sub("[^A-z0-9|:|/]+", " ", x).replace("\\n","").replace("\\","").strip()
print(repr(x))